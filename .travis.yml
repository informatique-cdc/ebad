language: java
after_success:
  - bash <(curl -s https://codecov.io/bash)
cache:
  directories:
    - $HOME/.m2
jdk:
  - openjdk8
addons:
  sonarcloud:
    organization: "informatique-cdc"
    token:
      secure: "hFFU7hQ94SFYzxaEAIEoCcXhAeSAfPOENdvwvMjnKpU5sVtbFMUNLIRyrGfCdV1VVdEl3gWKbLquKl+FtCwa14MmoBzYVJvaotAQNTw32RqUJWdY+DEuQ03DVV1iQCOKm8dCeZ/A6bKtnU29ZnjNcnWLd7sk3Q+pHdsbnQqY1hLhfR4Xn25CaQbiD0BijawvNxHvUeKHIootx/BfYICpCXScM4niwp7uJX3/rxxjJi7XfHa3GoXFqTRbcz6Eze//QdPvPAq3HCqrRsCclrPGyKoDNv1zKfn+JDqPGjUepdDdofYsrEJTOb1lxAjqeiGummZXmoVJusj8KAm3K0oKSWk7LXTJMgyDtk3Crycsku2C6Ydz4qXFXE4c68p9THSiWxgAHt0D9gXvw5krkntRHOBG+VlBkqY71aYUHKtBEkaW01KcaFQCh7aDtPdDD3c7HXMmhGpXA/iIaO00NACWIU9Y9XkCFZWyO5PrK+FDZuX07zXB1Tl24grAR7Kv2vCqrzsXVDLnJZOZkJELM5PBWmaieNNJ3CRJ43vP0r42mXQu6CX5M4C2BcjgO+ce0BQtfLiY1KTCvE5udwAlTFpGDgyi1jm0NxqiG4b3eF0YtdZJJ16wg8cb4LE4ytzMXiZVrqGPw24x/zcGMIHd/Q+EBEm9fzOr6uqERCJLr6Cs6O4="
script:
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=informatique-cdc_ebad -B
